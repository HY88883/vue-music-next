(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["singer"],{"0696":function(e,t,n){"use strict";n("1449")},1449:function(e,t,n){},"395c":function(e,t,n){"use strict";n("6244")},6244:function(e,t,n){},"70d8":function(e,t,n){"use strict";var c=n("1da1"),r=(n("96cf"),n("7a23")),u=n("82a8"),o=n("5502");t["a"]={name:"wrap-scroll",props:u["a"].props,emits:u["a"].emits,render:function(e){return Object(r["p"])(u["a"],Object(r["r"])({ref:"scrollRef"},e.$props,{onScroll:function(t){e.$emit("scroll",t)}}),{default:Object(r["Q"])((function(){return[Object(r["G"])(e.$slots,"default")]}))})},setup:function(){var e=Object(r["E"])(null),t=Object(r["f"])((function(){return e.value.scroll})),n=Object(o["d"])(),u=Object(r["f"])((function(){return n.state.playlist}));return Object(r["P"])(u,Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(r["s"])();case 2:t.value.refresh();case 3:case"end":return e.stop()}}),e)})))),{scrollRef:e,scroll:t}}}},"7f43":function(e,t,n){"use strict";n.r(t);var c=n("7a23"),r={class:"singer"};function u(e,t,n,u,o,a){var i=Object(c["H"])("index-list"),l=Object(c["H"])("router-view"),s=Object(c["I"])("loading");return Object(c["R"])((Object(c["z"])(),Object(c["j"])("div",r,[Object(c["m"])(i,{data:o.singers,onSelect:a.selectSinger},null,8,["data","onSelect"]),Object(c["m"])(l,null,{default:Object(c["Q"])((function(e){var t=e.Component;return[Object(c["m"])(c["d"],{name:"slide",appear:""},{default:Object(c["Q"])((function(){return[(Object(c["z"])(),Object(c["h"])(Object(c["J"])(t),{data:o.selectedSinger},null,8,["data"]))]})),_:2},1024)]})),_:1})])),[[s,!o.singers.length]])}var o=n("1da1"),a=(n("96cf"),n("9757")),i=(n("b0c0"),{ref:"groupRef"}),l={class:"title"},s=["onClick"],f={class:"avatar"},b={class:"name"},j={class:"fixed-title"},d=["data-index"];function O(e,t,n,r,u,o){var a=Object(c["H"])("scroll"),O=Object(c["I"])("lazy");return Object(c["z"])(),Object(c["h"])(a,{class:"index-list","probe-type":3,onScroll:r.onScroll,ref:"scrollRef"},{default:Object(c["Q"])((function(){return[Object(c["k"])("ul",i,[(Object(c["z"])(!0),Object(c["j"])(c["a"],null,Object(c["F"])(n.data,(function(e){return Object(c["z"])(),Object(c["j"])("li",{key:e.title,class:"group"},[Object(c["k"])("h2",l,Object(c["L"])(e.title),1),Object(c["k"])("ul",null,[(Object(c["z"])(!0),Object(c["j"])(c["a"],null,Object(c["F"])(e.list,(function(e){return Object(c["z"])(),Object(c["j"])("li",{key:e.id,class:"item",onClick:function(t){return r.onItemClick(e)}},[Object(c["R"])(Object(c["k"])("img",f,null,512),[[O,e.pic]]),Object(c["k"])("span",b,Object(c["L"])(e.name),1)],8,s)})),128))])])})),128))],512),Object(c["R"])(Object(c["k"])("div",{class:"fixed",style:Object(c["u"])(r.fixedStyle)},[Object(c["k"])("div",j,Object(c["L"])(r.fixedTitle),1)],4),[[c["O"],r.fixedTitle]]),Object(c["k"])("div",{class:"shortcut",onTouchstart:t[0]||(t[0]=Object(c["S"])((function(){return r.onShortcutTouchStart&&r.onShortcutTouchStart.apply(r,arguments)}),["stop","prevent"])),onTouchmove:t[1]||(t[1]=Object(c["S"])((function(){return r.onShortcutTouchMove&&r.onShortcutTouchMove.apply(r,arguments)}),["stop","prevent"])),onTouchend:t[2]||(t[2]=Object(c["S"])((function(){}),["stop","prevent"]))},[Object(c["k"])("ul",null,[(Object(c["z"])(!0),Object(c["j"])(c["a"],null,Object(c["F"])(r.shortcutList,(function(e,t){return Object(c["z"])(),Object(c["j"])("li",{key:e,"data-index":t,class:Object(c["t"])(["item",{current:r.currentIndex===t}])},Object(c["L"])(e),11,d)})),128))])],32)]})),_:1},8,["onScroll"])}var p=n("70d8");function h(e){var t=30,n=Object(c["E"])([]),r=Object(c["E"])(null),u=Object(c["E"])(0),a=Object(c["E"])(0),i=Object(c["E"])(0);n.value.push(0);var l=Object(c["f"])((function(){if(a.value<0)return"";var t=e.data[u.value];return t?t.title:""})),s=Object(c["f"])((function(){var e=i.value,n=e>0&&e<t?-t+e:0;return{transform:"translate3d(0, ".concat(n,"px,0)")}}));function f(e){a.value=-e.y}function b(){for(var e=r.value.children,t=0,c=0;c<e.length;c++)t+=e[c].offsetHeight,n.value.push(t)}return Object(c["P"])((function(){return e.data}),Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(c["s"])();case 2:b();case 3:case"end":return e.stop()}}),e)})))),Object(c["P"])(a,(function(e){for(var t=n.value,c=0;c<t.length-1;c++)e>=t[c]&&e<=t[c+1]&&(u.value=c,i.value=t[c+1]-e)})),{fixedTitle:l,groupRef:r,onScroll:f,currentIndex:u,fixedStyle:s}}n("d81d");function v(e,t){var n=18,r=Object(c["E"])(null),u=Object(c["f"])((function(){return e.data.map((function(e){return e.title}))})),o={};function a(e){var t=parseInt(e.target.dataset.index);o.y1=e.touches[0].pageY,o.anchorIndex=t,l(t)}function i(e){o.y2=e.touches[0].pageY;var t=(o.y2-o.y1)/n|0,c=o.anchorIndex+t;l(c)}function l(e){if(!isNaN(e)){e=Math.max(0,Math.min(u.value.length-1,e));var n=t.value.children[e],c=r.value.scroll;c.scrollToElement(n,0)}}return{onShortcutTouchStart:a,onShortcutTouchMove:i,shortcutList:u,scrollRef:r}}var g={name:"index-list",components:{Scroll:p["a"]},props:{data:{type:Array,default:function(){return[]}}},emits:["select"],setup:function(e,t){var n=t.emit,c=h(e),r=c.groupRef,u=c.onScroll,o=c.fixedTitle,a=c.fixedStyle,i=c.currentIndex,l=v(e,r),s=l.shortcutList,f=l.scrollRef,b=l.onShortcutTouchStart,j=l.onShortcutTouchMove;function d(e){n("select",e)}return{onItemClick:d,groupRef:r,onScroll:u,fixedTitle:o,fixedStyle:a,currentIndex:i,shortcutList:s,scrollRef:f,onShortcutTouchStart:b,onShortcutTouchMove:j}}},m=(n("395c"),n("d959")),S=n.n(m);const x=S()(g,[["render",O],["__scopeId","data-v-c02f278a"]]);var k=x,y=n("aaef"),R=n("335a"),T={name:"singer",data:function(){return{singers:[],selectedSinger:null}},components:{IndexList:k},created:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(a["b"])();case 2:n=t.sent,e.singers=n.singers;case 4:case"end":return t.stop()}}),t)})))()},methods:{selectSinger:function(e){this.selectedSinger=e,this.cacheSinger(e),this.$router.push({path:"/singer/".concat(e.mid)})},cacheSinger:function(e){R["a"].session.set(y["f"],e)}}};n("0696");const w=S()(T,[["render",u],["__scopeId","data-v-70e570f4"]]);t["default"]=w},9757:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return u}));var c=n("26b3");function r(){return Object(c["a"])("/api/getSingerList")}function u(e){return Object(c["a"])("/api/getSingerDetail",{mid:e.mid})}}}]);