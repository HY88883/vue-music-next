(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["album"],{"04f0":function(t,e,n){"use strict";n.r(e);var c=n("7a23"),a={class:"album"};function r(t,e,n,r,s,i){var o=Object(c["H"])("music-list");return Object(c["z"])(),Object(c["j"])("div",a,[Object(c["m"])(o,{songs:t.songs,title:t.title,pic:t.pic,loading:t.loading},null,8,["songs","title","pic","loading"])])}var s=n("3524"),i=n("8ee7"),o=n("aaef"),l=Object(s["a"])("album",o["a"],i["a"]),u=(n("c249"),n("d959")),d=n.n(u);const b=d()(l,[["render",r],["__scopeId","data-v-57cc8677"]]);e["default"]=b},"0ed6":function(t,e,n){"use strict";n("19f5")},"19f5":function(t,e,n){},3524:function(t,e,n){"use strict";n.d(e,"a",(function(){return I}));var c=n("1da1"),a=(n("96cf"),n("b0c0"),n("7a23")),r=function(t){return Object(a["C"])("data-v-47dd28ec"),t=t(),Object(a["A"])(),t},s={class:"music-list"},i=r((function(){return Object(a["k"])("i",{class:"icon-back"},null,-1)})),o=[i],l={class:"title"},u=r((function(){return Object(a["k"])("i",{class:"icon-play"},null,-1)})),d=r((function(){return Object(a["k"])("span",{class:"text"},"随机播放全部",-1)})),b=[u,d],p={class:"song-list-wrapper"};function f(t,e,n,c,r,i){var u=Object(a["H"])("song-list"),d=Object(a["H"])("scroll"),f=Object(a["I"])("loading"),g=Object(a["I"])("no-result");return Object(a["z"])(),Object(a["j"])("div",s,[Object(a["k"])("div",{class:"back",onClick:e[0]||(e[0]=function(){return i.goBack&&i.goBack.apply(i,arguments)})},o),Object(a["k"])("h1",l,Object(a["L"])(n.title),1),Object(a["k"])("div",{class:"bg-image",style:Object(a["u"])(i.bgImageStyle),ref:"bgImage"},[Object(a["k"])("div",{class:"play-btn-wrapper",style:Object(a["u"])(i.playBtnStyle)},[Object(a["R"])(Object(a["k"])("div",{class:"play-btn",onClick:e[1]||(e[1]=function(){return i.random&&i.random.apply(i,arguments)})},b,512),[[a["O"],n.songs.length>0]])],4),Object(a["k"])("div",{class:"filter",style:Object(a["u"])(i.filterStyle)},null,4)],4),Object(a["R"])((Object(a["z"])(),Object(a["h"])(d,{class:"list",style:Object(a["u"])(i.scrollStyle),"probe-type":3,onScroll:i.onScroll},{default:Object(a["Q"])((function(){return[Object(a["k"])("div",p,[Object(a["m"])(u,{songs:n.songs,onSelect:i.selectItem,rank:n.rank},null,8,["songs","onSelect","rank"])])]})),_:1},8,["style","onScroll"])),[[f,n.loading],[g,i.noResult,n.noResultText]])])}var g=n("5530"),m=(n("99af"),n("8e13")),j=n("70d8"),h=n("5502"),O=40,v={name:"music-list",components:{SongList:m["a"],Scroll:j["a"]},props:{songs:{type:Array,default:function(){return[]}},title:String,pic:String,loading:Boolean,noResultText:{type:String,default:"抱歉，没有找到可播放的歌曲"},rank:Boolean},data:function(){return{imageHeight:0,scrollY:0,maxTranslateY:0}},computed:Object(g["a"])({noResult:function(){return!this.loading&&!this.songs.length},playBtnStyle:function(){var t="";return this.scrollY>=this.maxTranslateY&&(t="none"),{display:t}},bgImageStyle:function(){var t=this.scrollY,e=0,n="70%",c=0,a=0;t>this.maxTranslateY&&(e=10,n=0,c="".concat(O,"px"),a=1);var r=1;return t<0&&(r=1+Math.abs(t/this.imageHeight)),{zIndex:e,paddingTop:n,height:c,backgroundImage:"url(".concat(this.pic,")"),transform:"scale(".concat(r,")translateZ(").concat(a,"px)")}},scrollStyle:function(){var t=this.playlist.length?"60px":"0";return{top:"".concat(this.imageHeight,"px"),bottom:t}},filterStyle:function(){var t=0,e=this.scrollY,n=this.imageHeight;return e>=0&&(t=20*Math.min(this.maxTranslateY/n,e/n)),{backdropFilter:"blur(".concat(t,"px)")}}},Object(h["c"])(["playlist"])),mounted:function(){this.imageHeight=this.$refs.bgImage.clientHeight,this.maxTranslateY=this.imageHeight-O},methods:Object(g["a"])({goBack:function(){this.$router.back()},onScroll:function(t){this.scrollY=-t.y},selectItem:function(t){t.song;var e=t.index;this.selectPlay({list:this.songs,index:e})},random:function(){this.randomPlay(this.songs)}},Object(h["b"])(["selectPlay","randomPlay"]))},y=(n("0ed6"),n("d959")),k=n.n(y);const x=k()(v,[["render",f],["__scopeId","data-v-47dd28ec"]]);var S=x,w=n("335a"),R=n("43a0");function I(t,e,n){return{name:t,components:{MusicList:S},props:{data:Object},data:function(){return{songs:[],loading:!0}},computed:{computedData:function(){var t=null,n=this.data;if(n)t=n;else{var c=w["a"].session.get(e);c&&(c.mid||c.id+"")===this.$route.params.id&&(t=c)}return t},pic:function(){var t=this.computedData;return t&&t.pic},title:function(){var t=this.computedData;return t&&(t.name||t.title)}},created:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var c,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(c=t.computedData,c){e.next=5;break}return a=t.$route.matched[0].path,t.$router.push({path:a}),e.abrupt("return");case 5:return e.next=7,n(c);case 7:return r=e.sent,e.next=10,Object(R["b"])(r.songs);case 10:t.songs=e.sent,t.loading=!1;case 12:case"end":return e.stop()}}),e)})))()}}}},"70d8":function(t,e,n){"use strict";var c=n("1da1"),a=(n("96cf"),n("7a23")),r=n("82a8"),s=n("5502");e["a"]={name:"wrap-scroll",props:r["a"].props,emits:r["a"].emits,render:function(t){return Object(a["p"])(r["a"],Object(a["r"])({ref:"scrollRef"},t.$props,{onScroll:function(e){t.$emit("scroll",e)}}),{default:Object(a["Q"])((function(){return[Object(a["G"])(t.$slots,"default")]}))})},setup:function(){var t=Object(a["E"])(null),e=Object(a["f"])((function(){return t.value.scroll})),n=Object(s["d"])(),r=Object(a["f"])((function(){return n.state.playlist}));return Object(a["P"])(r,Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(a["s"])();case 2:e.value.refresh();case 3:case"end":return t.stop()}}),t)})))),{scrollRef:t,scroll:e}}}},"8ee7":function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return r}));var c=n("26b3");function a(){return Object(c["a"])("/api/getRecommend")}function r(t){return Object(c["a"])("/api/getAlbum",{id:t.id})}},c249:function(t,e,n){"use strict";n("c2c2")},c2c2:function(t,e,n){}}]);